{"version":3,"sources":["webpack://GroupPermissions/webpack/universalModuleDefinition","webpack://GroupPermissions/webpack/bootstrap","webpack://GroupPermissions/external \"CoreHome\"","webpack://GroupPermissions/external {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://GroupPermissions/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/TabManageGroupAccess.vue","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/TabManageGroupAccess.vue?2576","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/TabManageGroupAccess.vue?45b4","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/TabManageGroups.vue","webpack://GroupPermissions/./plugins/GroupPermissions/node_modules/vue-multiselect/dist/vue-multiselect.esm.js","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/CreateGroup.vue","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/CreateGroup.vue?3595","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/CreateGroup.vue?02a0","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/ManageGroup.vue","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/ManageGroupMembers.vue","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/ManageGroupMembers.vue?63b1","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/ManageGroupMembers.vue?7630","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/ManageGroup.vue?9273","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/ManageGroup.vue?a824","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/TabManageGroups.vue?9046","webpack://GroupPermissions/./plugins/GroupPermissions/vue/src/GroupPermissions/TabManageGroups.vue?00d4"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__19dc__","__WEBPACK_EXTERNAL_MODULE__8bbf__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","currentScript","document","src","match","id","ref","class","style","translate","default-to-first-site","show-selected-site","show-all-sites-item","hasSuperUserAccess","switch-site-on-select","only-sites-with-admin-access","all-sites-text","model-value","site","$event","updateGroupAccessList","groupAccess","groupName","access","onSetAccessClicked","loading","isLoading","role","type","components","ActivityIndicator","SiteSelector","data","idSite","currentSiteName","Map","confirmUpdateAccessToAllSitesText","methods","event","helper","modalConfirm","yes","updateGroupAccess","post","format","method","idSites","errorElement","then","set","finally","response","clear","groupAccessTmp","forEach","group","push","sort","keys","computed","render","onGroupCreated","options","groups","track-by","label","selectedGroup","onGroupRenamed","onGroupDeleted","isLoadingGroups","isLoadingDefaultGroup","isEmpty","opt","Array","isArray","length","not","fun","params","includes","str","query","undefined","text","toString","toLowerCase","indexOf","trim","filterOptions","search","customLabel","filter","option","a","b","stripGroups","$isLabel","flattenOptions","values","reduce","prev","curr","$groupLabel","concat","filterGroups","groupLabel","map","console","warn","groupOptions","flow","fns","x","v","f","multiselectMixin","isOpen","preferredOpenDirection","optimizedHeight","maxHeight","props","internalSearch","Boolean","default","required","multiple","trackBy","String","searchable","clearOnSelect","hideSelected","placeholder","allowEmpty","resetAfter","closeOnSelect","Function","taggable","tagPlaceholder","tagPosition","max","Number","optionsLimit","groupValues","groupSelect","blockKeys","preserveSearch","preselectFirst","preventAutofocus","internalValue","select","filteredOptions","modelValue","normalizedSearch","filterAndFlat","isSelected","isExistingOption","isTag","unshift","slice","element","flatAndStrip","getOptionLabel","watch","$emit","deep","emits","optionKeys","valueKeys","$isDisabled","selectGroup","disabled","pointerDirty","deactivate","removeElement","find","wholeGroupSelected","val","newValue","optionsToAdd","isOptionDisabled","splice","every","shouldClose","index","adjustPosition","pointer","$nextTick","$refs","focus","$el","blur","getValue","activate","spaceAbove","getBoundingClientRect","top","spaceBelow","innerHeight","bottom","hasEnoughSpaceBelow","openDirection","Math","min","pointerMixin","showPointer","optionHeight","pointerAdjust","setAttribute","wholeGroupDisabled","pointerReset","list","scrollTop","pointerPosition","visibleElements","pointerForward","pointerBackward","script","mixins","compatConfig","MODE","ATTR_ENUMERATED_COERCION","selectLabel","selectGroupLabel","selectedLabel","deselectLabel","deselectGroupLabel","showLabels","limit","limitText","count","spellcheck","showNoOptions","showNoResults","tabindex","singleValue","visibleValues","width","position","padding","display","hasSingleSelectedSlot","visibleSingleValue","_ctx","_cache","$props","$setup","$data","$options","isAbove","hasOptionGroup","onFocus","onBlur","onKeydown","onKeypress","addPointerElement","onKeyup","$slots","toggle","onMousedown","remove","textContent","_","autocomplete","inputStyle","onInput","updateSearch","target","removeLastElement","args","currentOptionLabel","contentStyle","optionHighlight","onClick","onMouseenter","pointerSet","selectLabelText","selectedLabelText","deselectLabelText","selectGroupLabelText","deselectGroupLabelText","groupHighlight","createGroup","isCreatingGroup","newGroupName","confirmRenameGroup","confirmRenameGroupText","isRenaming","confirmDeleteGroup","confirmDeleteGroupText","isDeleting","members","login","confirmRemoveMember","title","isLoadingMembers","logins","selectedLoginToAdd","addMember","isLoadingLogins","isAddingMember","confirmRemoveMemberText","Multiselect","isRemovingMember","mounted","loadGroupMembers","loadLogins","idGroup","acc","member","filter_limit","loginToAdd","removeMember","ManageGroupMembers","onGroupUpdated","updateHash","hashParsed","renameGroup","newName","deleteGroup","CreateGroup","ManageGroup","loadGroupList","loadDefaultGroup","getSearchParam","sortGroups","groupIndex","findIndex","g","localeCompare"],"mappings":"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","file":"GroupPermissions.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"CoreHome\"), require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"CoreHome\", ], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GroupPermissions\"] = factory(require(\"CoreHome\"), require(\"vue\"));\n\telse\n\t\troot[\"GroupPermissions\"] = factory(root[\"CoreHome\"], root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__19dc__, __WEBPACK_EXTERNAL_MODULE__8bbf__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"plugins/GroupPermissions/vue/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fae3\");\n","module.exports = __WEBPACK_EXTERNAL_MODULE__19dc__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","<template>\n  <p>{{ translate('GroupPermissions_DescriptionAccessTab') }}</p>\n\n  <div id=\"ajaxErrorAccessGroupMember\" ref=\"errorContainer\"></div>\n\n  <div class=\"card\">\n    <div class=\"card-content\">\n\n      <div class=\"sites_autocomplete\">\n        <SiteSelector\n          :default-to-first-site=\"true\"\n          :show-selected-site=\"true\"\n          :show-all-sites-item=\"hasSuperUserAccess\"\n          :switch-site-on-select=\"false\"\n          :only-sites-with-admin-access=\"true\"\n          :all-sites-text=\"translate('UsersManager_ApplyToAllWebsites')\"\n\n          :model-value=\"site\"\n          @update:model-value=\"site = $event; updateGroupAccessList()\"\n        />\n      </div>\n\n      <div class=\"entityContainer\" style=\"width:600px;margin-top:16px;\">\n            <table\n                class=\"entityTable dataTable\"\n                style=\"display:inline-table;width:550px;\"\n            >\n                <thead>\n                <tr>\n                    <th class='first'>{{ translate('GroupPermissions_Group') }}</th>\n                    <th>{{ translate('UsersManager_PrivNone') }}</th>\n                    <th>{{ translate('UsersManager_PrivView') }}</th>\n                    <th>{{ translate('UsersManager_PrivWrite') }}</th>\n                    <th>{{ translate('UsersManager_PrivAdmin') }}</th>\n                </tr>\n                </thead>\n\n                <tbody>\n                  <tr v-for=\"[groupName, groupAccess] in groupAccess\" :key=\"groupName\">\n                      <td>{{ groupName }}</td>\n\n                      <template\n                        v-for=\"access in ['noaccess', 'view', 'write', 'admin']\"\n                        :key=\"access\"\n                      >\n                        <td>\n                          <img\n                            v-if=\"groupAccess == access\"\n                            src='plugins/UsersManager/images/ok.png'\n                            class='accessGranted'\n                          />\n                          <img\n                            v-else\n                            src='plugins/UsersManager/images/no-access.png'\n                            class='updateAccess'\n                            @click=\"onSetAccessClicked($event, groupName, access)\"\n                          />\n                          &nbsp;\n                        </td>\n                      </template>\n                  </tr>\n                </tbody>\n            </table>\n      </div>\n\n      <ActivityIndicator\n        :loading=\"isLoading\"\n        style=\"padding-top: 10px;\n      \"/>\n\n      <div\n        class=\"ui-confirm\"\n        id=\"confirmUpdateAccessToAllSites\"\n        ref=\"confirmUpdateAccessToAllSites\"\n      >\n        <h2 v-text=\"confirmUpdateAccessToAllSitesText\"></h2>\n        <input\n          role=\"yes\"\n          type=\"button\"\n          :value=\"translate('General_Yes')\"\n        />\n        <input\n          role=\"no\"\n          type=\"button\"\n          :value=\"translate('General_No')\"\n        />\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n  Matomo,\n  SiteSelector,\n  translate,\n} from 'CoreHome';\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n    SiteSelector,\n  },\n  data() {\n    return {\n      site: {\n        id: Matomo.idSite,\n        name: Matomo.currentSiteName,\n      },\n      groupAccess: new Map<string, string>(),\n      isLoading: false,\n      confirmUpdateAccessToAllSitesText: '',\n    };\n  },\n  methods: {\n    onSetAccessClicked(event: MouseEvent, groupName: string, access: string) {\n      const idSite = this.site.id;\n\n      if (idSite === 'all') {\n        this.confirmUpdateAccessToAllSitesText = translate('GroupPermissions_ChangeAccessToAllSitesConfirm', access, groupName);\n        Matomo.helper.modalConfirm('#confirmUpdateAccessToAllSites', {\n          yes: () => this.updateGroupAccess(idSite, groupName, access),\n        });\n      } else {\n        this.updateGroupAccess(idSite, groupName, access);\n      }\n    },\n    updateGroupAccess(idSite: number|string, groupName: string, access: string) {\n      this.isLoading = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.setGroupAccess',\n      }, {\n        idSites: idSite,\n        name: groupName,\n        access,\n      },\n      {\n        errorElement: '#ajaxErrorAccessGroupMember',\n      }).then(() => {\n        this.groupAccess.set(groupName, access);\n      }).finally(() => {\n        this.isLoading = false;\n      });\n    },\n    updateGroupAccessList() {\n      this.isLoading = true;\n\n      const idSite = this.site.id;\n\n      if (idSite === 'all') {\n        AjaxHelper.post({\n          module: 'API',\n          format: 'json',\n          method: 'GroupPermissions.getAllGroups',\n        }, {\n        },\n        {\n          errorElement: '#ajaxErrorAccessGroupMember',\n        }).then((response) => {\n          this.groupAccess.clear();\n\n          const groupAccessTmp: string[] = [];\n\n          response.forEach((group: { name: string }) => {\n            groupAccessTmp.push(group.name);\n          });\n\n          groupAccessTmp.sort().forEach((group) => {\n            this.groupAccess.set(group, 'noaccess');\n          });\n        }).finally(() => {\n          this.isLoading = false;\n        });\n      } else {\n        AjaxHelper.post({\n          module: 'API',\n          format: 'json',\n          method: 'GroupPermissions.getGroupAccessFromSite',\n        }, {\n          idSite: this.site.id,\n        },\n        {\n          errorElement: '#ajaxErrorAccessGroupMember',\n        }).then((response) => {\n          this.groupAccess.clear();\n\n          Object.keys(response).sort().forEach((group) => {\n            this.groupAccess.set(group, response[group]);\n          });\n        }).finally(() => {\n          this.isLoading = false;\n        });\n      }\n    },\n  },\n  computed: {\n    hasSuperUserAccess() {\n      return !!Matomo.hasSuperUserAccess;\n    },\n  },\n});\n</script>\n","\nimport { defineComponent } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n  Matomo,\n  SiteSelector,\n  translate,\n} from 'CoreHome';\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n    SiteSelector,\n  },\n  data() {\n    return {\n      site: {\n        id: Matomo.idSite,\n        name: Matomo.currentSiteName,\n      },\n      groupAccess: new Map<string, string>(),\n      isLoading: false,\n      confirmUpdateAccessToAllSitesText: '',\n    };\n  },\n  methods: {\n    onSetAccessClicked(event: MouseEvent, groupName: string, access: string) {\n      const idSite = this.site.id;\n\n      if (idSite === 'all') {\n        this.confirmUpdateAccessToAllSitesText = translate('GroupPermissions_ChangeAccessToAllSitesConfirm', access, groupName);\n        Matomo.helper.modalConfirm('#confirmUpdateAccessToAllSites', {\n          yes: () => this.updateGroupAccess(idSite, groupName, access),\n        });\n      } else {\n        this.updateGroupAccess(idSite, groupName, access);\n      }\n    },\n    updateGroupAccess(idSite: number|string, groupName: string, access: string) {\n      this.isLoading = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.setGroupAccess',\n      }, {\n        idSites: idSite,\n        name: groupName,\n        access,\n      },\n      {\n        errorElement: '#ajaxErrorAccessGroupMember',\n      }).then(() => {\n        this.groupAccess.set(groupName, access);\n      }).finally(() => {\n        this.isLoading = false;\n      });\n    },\n    updateGroupAccessList() {\n      this.isLoading = true;\n\n      const idSite = this.site.id;\n\n      if (idSite === 'all') {\n        AjaxHelper.post({\n          module: 'API',\n          format: 'json',\n          method: 'GroupPermissions.getAllGroups',\n        }, {\n        },\n        {\n          errorElement: '#ajaxErrorAccessGroupMember',\n        }).then((response) => {\n          this.groupAccess.clear();\n\n          const groupAccessTmp: string[] = [];\n\n          response.forEach((group: { name: string }) => {\n            groupAccessTmp.push(group.name);\n          });\n\n          groupAccessTmp.sort().forEach((group) => {\n            this.groupAccess.set(group, 'noaccess');\n          });\n        }).finally(() => {\n          this.isLoading = false;\n        });\n      } else {\n        AjaxHelper.post({\n          module: 'API',\n          format: 'json',\n          method: 'GroupPermissions.getGroupAccessFromSite',\n        }, {\n          idSite: this.site.id,\n        },\n        {\n          errorElement: '#ajaxErrorAccessGroupMember',\n        }).then((response) => {\n          this.groupAccess.clear();\n\n          Object.keys(response).sort().forEach((group) => {\n            this.groupAccess.set(group, response[group]);\n          });\n        }).finally(() => {\n          this.isLoading = false;\n        });\n      }\n    },\n  },\n  computed: {\n    hasSuperUserAccess() {\n      return !!Matomo.hasSuperUserAccess;\n    },\n  },\n});\n","import { render } from \"./TabManageGroupAccess.vue?vue&type=template&id=d0716bc0\"\nimport script from \"./TabManageGroupAccess.vue?vue&type=script&lang=ts\"\nexport * from \"./TabManageGroupAccess.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n    <p>{{ translate('GroupPermissions_DescriptionGroupsTab') }}</p>\n\n    <CreateGroup\n        @group-created=\"onGroupCreated($event)\"\n    ></CreateGroup>\n\n    <div class=\"card\">\n        <div class=\"card-content\" style=\"width: 600px\">\n            <h2>{{ translate('GroupPermissions_ManageGroup') }}</h2>\n\n            <multiselect\n                :options=\"groups\"\n                track-by=\"idGroup\"\n                label=\"name\"\n                v-model=\"selectedGroup\"\n            ></multiselect>\n\n            <ManageGroup\n                v-if=\"selectedGroup\"\n                :group=\"selectedGroup\"\n                @group-renamed=\"onGroupRenamed($event)\"\n                @group-deleted=\"onGroupDeleted($event)\"\n            ></ManageGroup>\n        </div>\n    </div>\n\n    <div id=\"ajaxErrorManageGroups\" ref=\"errorContainer\"></div>\n    <ActivityIndicator\n      :loading=\"isLoadingGroups || isLoadingDefaultGroup\"\n      style=\"padding-top: 10px;\"\n    />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n  MatomoUrl,\n} from 'CoreHome';\nimport Multiselect from 'vue-multiselect';\nimport CreateGroup from './CreateGroup.vue';\nimport ManageGroup from './ManageGroup.vue';\n\nexport interface Group {\n  idGroup: number;\n  name: string;\n}\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n    Multiselect,\n    CreateGroup,\n    ManageGroup,\n  },\n  data() {\n    return {\n      groups: [] as Group[],\n      selectedGroup: undefined as Group | undefined,\n      isLoadingGroups: false,\n      isLoadingDefaultGroup: false,\n    };\n  },\n  mounted() {\n    this.loadGroupList();\n    this.loadDefaultGroup();\n  },\n  methods: {\n    loadGroupList() {\n      this.isLoadingGroups = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.getAllGroups',\n      }, {\n      },\n      {\n        errorElement: '#ajaxErrorManageGroups',\n      }).then((response) => {\n        this.groups = response;\n      }).finally(() => {\n        this.isLoadingGroups = false;\n      });\n    },\n    loadDefaultGroup() {\n      this.isLoadingDefaultGroup = true;\n\n      const idGroup = MatomoUrl.getSearchParam('idGroup');\n      if (idGroup) {\n        AjaxHelper.post({\n          module: 'API',\n          format: 'json',\n          method: 'GroupPermissions.getGroupWithId',\n        }, {\n          idGroup,\n        },\n        {\n          errorElement: '#ajaxErrorManageGroups',\n        }).then((response) => {\n          this.selectedGroup = {\n            idGroup: response.idGroup,\n            name: response.name,\n          };\n        }).finally(() => {\n          this.isLoadingDefaultGroup = false;\n        });\n      }\n    },\n    onGroupCreated(group: Group) {\n      this.groups.push(group);\n      this.sortGroups();\n      this.selectedGroup = group;\n    },\n    onGroupRenamed(group: Group) {\n      const groupIndex = this.groups.findIndex(\n        (g: Group) => g.idGroup === group.idGroup,\n      );\n      this.groups[groupIndex].name = group.name;\n      this.sortGroups();\n      this.selectedGroup = group;\n    },\n    onGroupDeleted(group: Group) {\n      this.groups = this.groups.filter((g: Group) => g.idGroup !== group.idGroup);\n      this.selectedGroup = this.groups.length > 0 ? this.groups[0] : undefined;\n    },\n    sortGroups() {\n      this.groups.sort((a: Group, b: Group) => a.name.localeCompare(b.name));\n    },\n  },\n});\n</script>\n","import { openBlock, createBlock, withKeys, withModifiers, renderSlot, createVNode, withDirectives, Fragment, renderList, toDisplayString, vShow, createCommentVNode, Transition, withCtx, createTextVNode } from 'vue';\n\nfunction isEmpty (opt) {\n  if (opt === 0) return false\n  if (Array.isArray(opt) && opt.length === 0) return true\n  return !opt\n}\n\nfunction not (fun) {\n  return (...params) => !fun(...params)\n}\n\nfunction includes (str, query) {\n  /* istanbul ignore else */\n  if (str === undefined) str = 'undefined';\n  if (str === null) str = 'null';\n  if (str === false) str = 'false';\n  const text = str.toString().toLowerCase();\n  return text.indexOf(query.trim()) !== -1\n}\n\nfunction filterOptions (options, search, label, customLabel) {\n  return search ? options\n    .filter((option) => includes(customLabel(option, label), search))\n    .sort((a, b) => customLabel(a, label).length - customLabel(b, label).length) : options\n}\n\nfunction stripGroups (options) {\n  return options.filter((option) => !option.$isLabel)\n}\n\nfunction flattenOptions (values, label) {\n  return (options) =>\n    options.reduce((prev, curr) => {\n      /* istanbul ignore else */\n      if (curr[values] && curr[values].length) {\n        prev.push({\n          $groupLabel: curr[label],\n          $isLabel: true\n        });\n        return prev.concat(curr[values])\n      }\n      return prev\n    }, [])\n}\n\nfunction filterGroups (search, label, values, groupLabel, customLabel) {\n  return (groups) =>\n    groups.map((group) => {\n      /* istanbul ignore else */\n      if (!group[values]) {\n        console.warn(`Options passed to vue-multiselect do not contain groups, despite the config.`);\n        return []\n      }\n      const groupOptions = filterOptions(group[values], search, label, customLabel);\n\n      return groupOptions.length\n        ? {\n          [groupLabel]: group[groupLabel],\n          [values]: groupOptions\n        }\n        : []\n    })\n}\n\nconst flow = (...fns) => (x) => fns.reduce((v, f) => f(v), x);\n\nvar multiselectMixin = {\n  data () {\n    return {\n      search: '',\n      isOpen: false,\n      preferredOpenDirection: 'below',\n      optimizedHeight: this.maxHeight\n    }\n  },\n  props: {\n    /**\n     * Decide whether to filter the results based on search query.\n     * Useful for async filtering, where we search through more complex data.\n     * @type {Boolean}\n     */\n    internalSearch: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Array of available options: Objects, Strings or Integers.\n     * If array of objects, visible label will default to option.label.\n     * If `labal` prop is passed, label will equal option['label']\n     * @type {Array}\n     */\n    options: {\n      type: Array,\n      required: true\n    },\n    /**\n     * Equivalent to the `multiple` attribute on a `<select>` input.\n     * @default false\n     * @type {Boolean}\n     */\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Key to compare objects\n     * @default 'id'\n     * @type {String}\n     */\n    trackBy: {\n      type: String\n    },\n    /**\n     * Label to look for in option Object\n     * @default 'label'\n     * @type {String}\n     */\n    label: {\n      type: String\n    },\n    /**\n     * Enable/disable search in options\n     * @default true\n     * @type {Boolean}\n     */\n    searchable: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Clear the search input after `)\n     * @default true\n     * @type {Boolean}\n     */\n    clearOnSelect: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Hide already selected options\n     * @default false\n     * @type {Boolean}\n     */\n    hideSelected: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Equivalent to the `placeholder` attribute on a `<select>` input.\n     * @default 'Select option'\n     * @type {String}\n     */\n    placeholder: {\n      type: String,\n      default: 'Select option'\n    },\n    /**\n     * Allow to remove all selected values\n     * @default true\n     * @type {Boolean}\n     */\n    allowEmpty: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Reset this.internalValue, this.search after this.internalValue changes.\n     * Useful if want to create a stateless dropdown.\n     * @default false\n     * @type {Boolean}\n     */\n    resetAfter: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Enable/disable closing after selecting an option\n     * @default true\n     * @type {Boolean}\n     */\n    closeOnSelect: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Function to interpolate the custom label\n     * @default false\n     * @type {Function}\n     */\n    customLabel: {\n      type: Function,\n      default (option, label) {\n        if (isEmpty(option)) return ''\n        return label ? option[label] : option\n      }\n    },\n    /**\n     * Disable / Enable tagging\n     * @default false\n     * @type {Boolean}\n     */\n    taggable: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * String to show when highlighting a potential tag\n     * @default 'Press enter to create a tag'\n     * @type {String}\n    */\n    tagPlaceholder: {\n      type: String,\n      default: 'Press enter to create a tag'\n    },\n    /**\n     * By default new tags will appear above the search results.\n     * Changing to 'bottom' will revert this behaviour\n     * and will proritize the search results\n     * @default 'top'\n     * @type {String}\n    */\n    tagPosition: {\n      type: String,\n      default: 'top'\n    },\n    /**\n     * Number of allowed selected options. No limit if 0.\n     * @default 0\n     * @type {Number}\n    */\n    max: {\n      type: [Number, Boolean],\n      default: false\n    },\n    /**\n     * Will be passed with all events as second param.\n     * Useful for identifying events origin.\n     * @default null\n     * @type {String|Integer}\n    */\n    id: {\n      default: null\n    },\n    /**\n     * Limits the options displayed in the dropdown\n     * to the first X options.\n     * @default 1000\n     * @type {Integer}\n    */\n    optionsLimit: {\n      type: Number,\n      default: 1000\n    },\n    /**\n     * Name of the property containing\n     * the group values\n     * @default 1000\n     * @type {String}\n    */\n    groupValues: {\n      type: String\n    },\n    /**\n     * Name of the property containing\n     * the group label\n     * @default 1000\n     * @type {String}\n    */\n    groupLabel: {\n      type: String\n    },\n    /**\n     * Allow to select all group values\n     * by selecting the group label\n     * @default false\n     * @type {Boolean}\n     */\n    groupSelect: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Array of keyboard keys to block\n     * when selecting\n     * @default 1000\n     * @type {String}\n    */\n    blockKeys: {\n      type: Array,\n      default () {\n        return []\n      }\n    },\n    /**\n     * Prevent from wiping up the search value\n     * @default false\n     * @type {Boolean}\n    */\n    preserveSearch: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Select 1st options if value is empty\n     * @default false\n     * @type {Boolean}\n    */\n    preselectFirst: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Prevent autofocus\n     * @default false\n     * @type {Boolean}\n    */\n    preventAutofocus: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mounted () {\n    /* istanbul ignore else */\n    if (!this.multiple && this.max) {\n      console.warn('[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false.');\n    }\n    if (\n      this.preselectFirst &&\n      !this.internalValue.length &&\n      this.options.length\n    ) {\n      this.select(this.filteredOptions[0]);\n    }\n  },\n  computed: {\n    internalValue () {\n      return this.modelValue || this.modelValue === 0\n        ? Array.isArray(this.modelValue) ? this.modelValue : [this.modelValue]\n        : []\n    },\n    filteredOptions () {\n      const search = this.search || '';\n      const normalizedSearch = search.toLowerCase().trim();\n\n      let options = this.options.concat();\n\n      /* istanbul ignore else */\n      if (this.internalSearch) {\n        options = this.groupValues\n          ? this.filterAndFlat(options, normalizedSearch, this.label)\n          : filterOptions(options, normalizedSearch, this.label, this.customLabel);\n      } else {\n        options = this.groupValues ? flattenOptions(this.groupValues, this.groupLabel)(options) : options;\n      }\n\n      options = this.hideSelected\n        ? options.filter(not(this.isSelected))\n        : options;\n\n      /* istanbul ignore else */\n      if (this.taggable && normalizedSearch.length && !this.isExistingOption(normalizedSearch)) {\n        if (this.tagPosition === 'bottom') {\n          options.push({isTag: true, label: search});\n        } else {\n          options.unshift({isTag: true, label: search});\n        }\n      }\n\n      return options.slice(0, this.optionsLimit)\n    },\n    valueKeys () {\n      if (this.trackBy) {\n        return this.internalValue.map((element) => element[this.trackBy])\n      } else {\n        return this.internalValue\n      }\n    },\n    optionKeys () {\n      const options = this.groupValues ? this.flatAndStrip(this.options) : this.options;\n      return options.map((element) => this.customLabel(element, this.label).toString().toLowerCase())\n    },\n    currentOptionLabel () {\n      return this.multiple\n        ? this.searchable ? '' : this.placeholder\n        : this.internalValue.length\n          ? this.getOptionLabel(this.internalValue[0])\n          : this.searchable ? '' : this.placeholder\n    }\n  },\n  watch: {\n    internalValue: {\n      handler () {\n      /* istanbul ignore else */\n        if (this.resetAfter && this.internalValue.length) {\n          this.search = '';\n          this.$emit('update:modelValue', this.multiple ? [] : null);\n        }\n      },\n      deep: true\n    },\n    search () {\n      this.$emit('search-change', this.search);\n    }\n  },\n  emits: ['open', 'search-change', 'close', 'select', 'update:modelValue', 'remove', 'tag'],\n  methods: {\n    /**\n     * Returns the internalValue in a way it can be emited to the parent\n     * @returns {Object||Array||String||Integer}\n     */\n    getValue () {\n      return this.multiple\n        ? this.internalValue\n        : this.internalValue.length === 0\n          ? null\n          : this.internalValue[0]\n    },\n    /**\n     * Filters and then flattens the options list\n     * @param  {Array}\n     * @return {Array} returns a filtered and flat options list\n     */\n    filterAndFlat (options, search, label) {\n      return flow(\n        filterGroups(search, label, this.groupValues, this.groupLabel, this.customLabel),\n        flattenOptions(this.groupValues, this.groupLabel)\n      )(options)\n    },\n    /**\n     * Flattens and then strips the group labels from the options list\n     * @param  {Array}\n     * @return {Array} returns a flat options list without group labels\n     */\n    flatAndStrip (options) {\n      return flow(\n        flattenOptions(this.groupValues, this.groupLabel),\n        stripGroups\n      )(options)\n    },\n    /**\n     * Updates the search value\n     * @param  {String}\n     */\n    updateSearch (query) {\n      this.search = query;\n    },\n    /**\n     * Finds out if the given query is already present\n     * in the available options\n     * @param  {String}\n     * @return {Boolean} returns true if element is available\n     */\n    isExistingOption (query) {\n      return !this.options\n        ? false\n        : this.optionKeys.indexOf(query) > -1\n    },\n    /**\n     * Finds out if the given element is already present\n     * in the result value\n     * @param  {Object||String||Integer} option passed element to check\n     * @returns {Boolean} returns true if element is selected\n     */\n    isSelected (option) {\n      const opt = this.trackBy\n        ? option[this.trackBy]\n        : option;\n      return this.valueKeys.indexOf(opt) > -1\n    },\n    /**\n     * Finds out if the given option is disabled\n     * @param  {Object||String||Integer} option passed element to check\n     * @returns {Boolean} returns true if element is disabled\n     */\n    isOptionDisabled (option) {\n      return !!option.$isDisabled\n    },\n    /**\n     * Returns empty string when options is null/undefined\n     * Returns tag query if option is tag.\n     * Returns the customLabel() results and casts it to string.\n     *\n     * @param  {Object||String||Integer} Passed option\n     * @returns {Object||String}\n     */\n    getOptionLabel (option) {\n      if (isEmpty(option)) return ''\n      /* istanbul ignore else */\n      if (option.isTag) return option.label\n      /* istanbul ignore else */\n      if (option.$isLabel) return option.$groupLabel\n\n      const label = this.customLabel(option, this.label);\n      /* istanbul ignore else */\n      if (isEmpty(label)) return ''\n      return label\n    },\n    /**\n     * Add the given option to the list of selected options\n     * or sets the option as the selected option.\n     * If option is already selected -> remove it from the results.\n     *\n     * @param  {Object||String||Integer} option to select/deselect\n     * @param  {Boolean} block removing\n     */\n    select (option, key) {\n      /* istanbul ignore else */\n      if (option.$isLabel && this.groupSelect) {\n        this.selectGroup(option);\n        return\n      }\n      if (this.blockKeys.indexOf(key) !== -1 ||\n        this.disabled ||\n        option.$isDisabled ||\n        option.$isLabel\n      ) return\n      /* istanbul ignore else */\n      if (this.max && this.multiple && this.internalValue.length === this.max) return\n      /* istanbul ignore else */\n      if (key === 'Tab' && !this.pointerDirty) return\n      if (option.isTag) {\n        this.$emit('tag', option.label, this.id);\n        this.search = '';\n        if (this.closeOnSelect && !this.multiple) this.deactivate();\n      } else {\n        const isSelected = this.isSelected(option);\n\n        if (isSelected) {\n          if (key !== 'Tab') this.removeElement(option);\n          return\n        }\n\n        if (this.multiple) {\n          this.$emit('update:modelValue', this.internalValue.concat([option]));\n        } else {\n          this.$emit('update:modelValue', option);\n        }\n\n        this.$emit('select', option, this.id);\n\n        /* istanbul ignore else */\n        if (this.clearOnSelect) this.search = '';\n      }\n      /* istanbul ignore else */\n      if (this.closeOnSelect) this.deactivate();\n    },\n    /**\n     * Add the given group options to the list of selected options\n     * If all group optiona are already selected -> remove it from the results.\n     *\n     * @param  {Object||String||Integer} group to select/deselect\n     */\n    selectGroup (selectedGroup) {\n      const group = this.options.find((option) => {\n        return option[this.groupLabel] === selectedGroup.$groupLabel\n      });\n\n      if (!group) return\n\n      if (this.wholeGroupSelected(group)) {\n        this.$emit('remove', group[this.groupValues], this.id);\n\n        const groupValues = this.trackBy ? group[this.groupValues].map(val => val[this.trackBy]) : group[this.groupValues];\n        const newValue = this.internalValue.filter(\n          option => groupValues.indexOf(this.trackBy ? option[this.trackBy] : option) === -1\n        );\n\n        this.$emit('update:modelValue', newValue);\n      } else {\n        let optionsToAdd = group[this.groupValues].filter(\n          option => !(this.isOptionDisabled(option) || this.isSelected(option))\n        );\n\n        // if max is defined then just select options respecting max\n        if (this.max) {\n          optionsToAdd.splice(this.max - this.internalValue.length);\n        }\n\n        this.$emit('select', optionsToAdd, this.id);\n        this.$emit(\n          'update:modelValue',\n          this.internalValue.concat(optionsToAdd)\n        );\n      }\n\n      if (this.closeOnSelect) this.deactivate();\n    },\n    /**\n     * Helper to identify if all values in a group are selected\n     *\n     * @param {Object} group to validated selected values against\n     */\n    wholeGroupSelected (group) {\n      return group[this.groupValues].every((option) => this.isSelected(option) || this.isOptionDisabled(option)\n      )\n    },\n    /**\n     * Helper to identify if all values in a group are disabled\n     *\n     * @param {Object} group to check for disabled values\n     */\n    wholeGroupDisabled (group) {\n      return group[this.groupValues].every(this.isOptionDisabled)\n    },\n    /**\n     * Removes the given option from the selected options.\n     * Additionally checks this.allowEmpty prop if option can be removed when\n     * it is the last selected option.\n     *\n     * @param  {type} option description\n     * @return {type}        description\n     */\n    removeElement (option, shouldClose = true) {\n      /* istanbul ignore else */\n      if (this.disabled) return\n      /* istanbul ignore else */\n      if (option.$isDisabled) return\n      /* istanbul ignore else */\n      if (!this.allowEmpty && this.internalValue.length <= 1) {\n        this.deactivate();\n        return\n      }\n\n      const index = typeof option === 'object'\n        ? this.valueKeys.indexOf(option[this.trackBy])\n        : this.valueKeys.indexOf(option);\n\n      if (this.multiple) {\n        const newValue = this.internalValue.slice(0, index).concat(this.internalValue.slice(index + 1));\n        this.$emit('update:modelValue', newValue);\n      } else {\n        this.$emit('update:modelValue', null);\n      }\n      this.$emit('remove', option, this.id);\n\n      /* istanbul ignore else */\n      if (this.closeOnSelect && shouldClose) this.deactivate();\n    },\n    /**\n     * Calls this.removeElement() with the last element\n     * from this.internalValue (selected element Array)\n     *\n     * @fires this#removeElement\n     */\n    removeLastElement () {\n      /* istanbul ignore else */\n      if (this.blockKeys.indexOf('Delete') !== -1) return\n      /* istanbul ignore else */\n      if (this.search.length === 0 && Array.isArray(this.internalValue) && this.internalValue.length) {\n        this.removeElement(this.internalValue[this.internalValue.length - 1], false);\n      }\n    },\n    /**\n     * Opens the multiselect’s dropdown.\n     * Sets this.isOpen to TRUE\n     */\n    activate () {\n      /* istanbul ignore else */\n      if (this.isOpen || this.disabled) return\n\n      this.adjustPosition();\n      /* istanbul ignore else  */\n      if (this.groupValues && this.pointer === 0 && this.filteredOptions.length) {\n        this.pointer = 1;\n      }\n\n      this.isOpen = true;\n      /* istanbul ignore else  */\n      if (this.searchable) {\n        if (!this.preserveSearch) this.search = '';\n        if (!this.preventAutofocus) this.$nextTick(() => this.$refs.search && this.$refs.search.focus());\n      } else if (!this.preventAutofocus) {\n        if (typeof this.$el !== 'undefined') this.$el.focus();\n      }\n      this.$emit('open', this.id);\n    },\n    /**\n     * Closes the multiselect’s dropdown.\n     * Sets this.isOpen to FALSE\n     */\n    deactivate () {\n      /* istanbul ignore else */\n      if (!this.isOpen) return\n\n      this.isOpen = false;\n      /* istanbul ignore else  */\n      if (this.searchable) {\n        if (this.$refs.search !== null && typeof this.$refs.search !== 'undefined') this.$refs.search.blur();\n      } else {\n        if (typeof this.$el !== 'undefined') this.$el.blur();\n      }\n      if (!this.preserveSearch) this.search = '';\n      this.$emit('close', this.getValue(), this.id);\n    },\n    /**\n     * Call this.activate() or this.deactivate()\n     * depending on this.isOpen value.\n     *\n     * @fires this#activate || this#deactivate\n     * @property {Boolean} isOpen indicates if dropdown is open\n     */\n    toggle () {\n      this.isOpen\n        ? this.deactivate()\n        : this.activate();\n    },\n    /**\n     * Updates the hasEnoughSpace variable used for\n     * detecting where to expand the dropdown\n     */\n    adjustPosition () {\n      if (typeof window === 'undefined') return\n\n      const spaceAbove = this.$el.getBoundingClientRect().top;\n      const spaceBelow = window.innerHeight - this.$el.getBoundingClientRect().bottom;\n      const hasEnoughSpaceBelow = spaceBelow > this.maxHeight;\n\n      if (hasEnoughSpaceBelow || spaceBelow > spaceAbove || this.openDirection === 'below' || this.openDirection === 'bottom') {\n        this.preferredOpenDirection = 'below';\n        this.optimizedHeight = Math.min(spaceBelow - 40, this.maxHeight);\n      } else {\n        this.preferredOpenDirection = 'above';\n        this.optimizedHeight = Math.min(spaceAbove - 40, this.maxHeight);\n      }\n    }\n  }\n};\n\nvar pointerMixin = {\n  data () {\n    return {\n      pointer: 0,\n      pointerDirty: false\n    }\n  },\n  props: {\n    /**\n     * Enable/disable highlighting of the pointed value.\n     * @type {Boolean}\n     * @default true\n     */\n    showPointer: {\n      type: Boolean,\n      default: true\n    },\n    optionHeight: {\n      type: Number,\n      default: 40\n    }\n  },\n  computed: {\n    pointerPosition () {\n      return this.pointer * this.optionHeight\n    },\n    visibleElements () {\n      return this.optimizedHeight / this.optionHeight\n    }\n  },\n  watch: {\n    filteredOptions () {\n      this.pointerAdjust();\n    },\n    isOpen () {\n      this.pointerDirty = false;\n    },\n    pointer () {\n      this.$refs.search && this.$refs.search.setAttribute('aria-activedescendant', this.id + '-' + this.pointer.toString());\n    }\n  },\n  methods: {\n    optionHighlight (index, option) {\n      return {\n        'multiselect__option--highlight': index === this.pointer && this.showPointer,\n        'multiselect__option--selected': this.isSelected(option)\n      }\n    },\n    groupHighlight (index, selectedGroup) {\n      if (!this.groupSelect) {\n        return [\n          'multiselect__option--disabled',\n          {'multiselect__option--group': selectedGroup.$isLabel}\n        ]\n      }\n\n      const group = this.options.find((option) => {\n        return option[this.groupLabel] === selectedGroup.$groupLabel\n      });\n\n      return group && !this.wholeGroupDisabled(group) ? [\n        'multiselect__option--group',\n        {'multiselect__option--highlight': index === this.pointer && this.showPointer},\n        {'multiselect__option--group-selected': this.wholeGroupSelected(group)}\n      ] : 'multiselect__option--disabled'\n    },\n    addPointerElement ({key} = 'Enter') {\n      /* istanbul ignore else */\n      if (this.filteredOptions.length > 0) {\n        this.select(this.filteredOptions[this.pointer], key);\n      }\n      this.pointerReset();\n    },\n    pointerForward () {\n      /* istanbul ignore else */\n      if (this.pointer < this.filteredOptions.length - 1) {\n        this.pointer++;\n        /* istanbul ignore next */\n        if (this.$refs.list.scrollTop <= this.pointerPosition - (this.visibleElements - 1) * this.optionHeight) {\n          this.$refs.list.scrollTop = this.pointerPosition - (this.visibleElements - 1) * this.optionHeight;\n        }\n        /* istanbul ignore else */\n        if (\n          this.filteredOptions[this.pointer] &&\n          this.filteredOptions[this.pointer].$isLabel &&\n          !this.groupSelect\n        ) this.pointerForward();\n      }\n      this.pointerDirty = true;\n    },\n    pointerBackward () {\n      if (this.pointer > 0) {\n        this.pointer--;\n        /* istanbul ignore else */\n        if (this.$refs.list.scrollTop >= this.pointerPosition) {\n          this.$refs.list.scrollTop = this.pointerPosition;\n        }\n        /* istanbul ignore else */\n        if (\n          this.filteredOptions[this.pointer] &&\n          this.filteredOptions[this.pointer].$isLabel &&\n          !this.groupSelect\n        ) this.pointerBackward();\n      } else {\n        /* istanbul ignore else */\n        if (\n          this.filteredOptions[this.pointer] &&\n          this.filteredOptions[0].$isLabel &&\n          !this.groupSelect\n        ) this.pointerForward();\n      }\n      this.pointerDirty = true;\n    },\n    pointerReset () {\n      /* istanbul ignore else */\n      if (!this.closeOnSelect) return\n      this.pointer = 0;\n      /* istanbul ignore else */\n      if (this.$refs.list) {\n        this.$refs.list.scrollTop = 0;\n      }\n    },\n    pointerAdjust () {\n      /* istanbul ignore else */\n      if (this.pointer >= this.filteredOptions.length - 1) {\n        this.pointer = this.filteredOptions.length\n          ? this.filteredOptions.length - 1\n          : 0;\n      }\n\n      if (this.filteredOptions.length > 0 &&\n        this.filteredOptions[this.pointer].$isLabel &&\n        !this.groupSelect\n      ) {\n        this.pointerForward();\n      }\n    },\n    pointerSet (index) {\n      this.pointer = index;\n      this.pointerDirty = true;\n    }\n  }\n};\n\nvar script = {\n  name: 'vue-multiselect',\n  mixins: [multiselectMixin, pointerMixin],\n  compatConfig: {\n    MODE: 3,\n    ATTR_ENUMERATED_COERCION: false\n  },\n  props: {\n    /**\n       * name attribute to match optional label element\n       * @default ''\n       * @type {String}\n       */\n    name: {\n      type: String,\n      default: ''\n    },\n    /**\n       * Presets the selected options value.\n       * @type {Object||Array||String||Integer}\n       */\n    modelValue: {\n      type: null,\n      default () {\n        return []\n      }\n    },\n    /**\n       * String to show when pointing to an option\n       * @default 'Press enter to select'\n       * @type {String}\n       */\n    selectLabel: {\n      type: String,\n      default: 'Press enter to select'\n    },\n    /**\n       * String to show when pointing to an option\n       * @default 'Press enter to select'\n       * @type {String}\n       */\n    selectGroupLabel: {\n      type: String,\n      default: 'Press enter to select group'\n    },\n    /**\n       * String to show next to selected option\n       * @default 'Selected'\n       * @type {String}\n       */\n    selectedLabel: {\n      type: String,\n      default: 'Selected'\n    },\n    /**\n       * String to show when pointing to an already selected option\n       * @default 'Press enter to remove'\n       * @type {String}\n       */\n    deselectLabel: {\n      type: String,\n      default: 'Press enter to remove'\n    },\n    /**\n       * String to show when pointing to an already selected option\n       * @default 'Press enter to remove'\n       * @type {String}\n       */\n    deselectGroupLabel: {\n      type: String,\n      default: 'Press enter to deselect group'\n    },\n    /**\n       * Decide whether to show pointer labels\n       * @default true\n       * @type {Boolean}\n       */\n    showLabels: {\n      type: Boolean,\n      default: true\n    },\n    /**\n       * Limit the display of selected options. The rest will be hidden within the limitText string.\n       * @default 99999\n       * @type {Integer}\n       */\n    limit: {\n      type: Number,\n      default: 99999\n    },\n    /**\n       * Sets maxHeight style value of the dropdown\n       * @default 300\n       * @type {Integer}\n       */\n    maxHeight: {\n      type: Number,\n      default: 300\n    },\n    /**\n       * Function that process the message shown when selected\n       * elements pass the defined limit.\n       * @default 'and * more'\n       * @param {Int} count Number of elements more than limit\n       * @type {Function}\n       */\n    limitText: {\n      type: Function,\n      default: (count) => `and ${count} more`\n    },\n    /**\n       * Set true to trigger the loading spinner.\n       * @default False\n       * @type {Boolean}\n       */\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    /**\n       * Disables the multiselect if true.\n       * @default false\n       * @type {Boolean}\n       */\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Enables search input's spellcheck if true.\n     * @default false\n     * @type {Boolean}\n     */\n    spellcheck: {\n      type: Boolean,\n      default: false\n    },\n    /**\n       * Fixed opening direction\n       * @default ''\n       * @type {String}\n       */\n    openDirection: {\n      type: String,\n      default: ''\n    },\n    /**\n       * Shows slot with message about empty options\n       * @default true\n       * @type {Boolean}\n       */\n    showNoOptions: {\n      type: Boolean,\n      default: true\n    },\n    showNoResults: {\n      type: Boolean,\n      default: true\n    },\n    tabindex: {\n      type: Number,\n      default: 0\n    },\n    required: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    hasOptionGroup () {\n      return this.groupValues && this.groupLabel && this.groupSelect\n    },\n    isSingleLabelVisible () {\n      return (\n        (this.singleValue || this.singleValue === 0) &&\n          (!this.isOpen || !this.searchable) &&\n          !this.visibleValues.length\n      )\n    },\n    isPlaceholderVisible () {\n      return !this.internalValue.length && (!this.searchable || !this.isOpen)\n    },\n    visibleValues () {\n      return this.multiple ? this.internalValue.slice(0, this.limit) : []\n    },\n    singleValue () {\n      return this.internalValue[0]\n    },\n    deselectLabelText () {\n      return this.showLabels ? this.deselectLabel : ''\n    },\n    deselectGroupLabelText () {\n      return this.showLabels ? this.deselectGroupLabel : ''\n    },\n    selectLabelText () {\n      return this.showLabels ? this.selectLabel : ''\n    },\n    selectGroupLabelText () {\n      return this.showLabels ? this.selectGroupLabel : ''\n    },\n    selectedLabelText () {\n      return this.showLabels ? this.selectedLabel : ''\n    },\n    inputStyle () {\n      if (\n        this.searchable ||\n          (this.multiple && this.modelValue && this.modelValue.length)\n      ) {\n        // Hide input by setting the width to 0 allowing it to receive focus\n        return this.isOpen\n          ? {width: '100%'}\n          : {width: '0', position: 'absolute', padding: '0'}\n      }\n      return ''\n    },\n    contentStyle () {\n      return this.options.length\n        ? {display: 'inline-block'}\n        : {display: 'block'}\n    },\n    isAbove () {\n      if (this.openDirection === 'above' || this.openDirection === 'top') {\n        return true\n      } else if (\n        this.openDirection === 'below' ||\n          this.openDirection === 'bottom'\n      ) {\n        return false\n      } else {\n        return this.preferredOpenDirection === 'above'\n      }\n    },\n    showSearchInput () {\n      return (\n        this.searchable &&\n          (this.hasSingleSelectedSlot &&\n            (this.visibleSingleValue || this.visibleSingleValue === 0)\n            ? this.isOpen\n            : true)\n      )\n    }\n  }\n};\n\nconst _hoisted_1 = {\n  ref: \"tags\",\n  class: \"multiselect__tags\"\n};\nconst _hoisted_2 = { class: \"multiselect__tags-wrap\" };\nconst _hoisted_3 = { class: \"multiselect__spinner\" };\nconst _hoisted_4 = { key: 0 };\nconst _hoisted_5 = { class: \"multiselect__option\" };\nconst _hoisted_6 = { class: \"multiselect__option\" };\nconst _hoisted_7 = /*#__PURE__*/createTextVNode(\"No elements found. Consider changing the search query.\");\nconst _hoisted_8 = { class: \"multiselect__option\" };\nconst _hoisted_9 = /*#__PURE__*/createTextVNode(\"List is empty.\");\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (openBlock(), createBlock(\"div\", {\n    tabindex: _ctx.searchable ? -1 : $props.tabindex,\n    class: [{ 'multiselect--active': _ctx.isOpen, 'multiselect--disabled': $props.disabled, 'multiselect--above': $options.isAbove, 'multiselect--has-options-group': $options.hasOptionGroup }, \"multiselect\"],\n    onFocus: _cache[14] || (_cache[14] = $event => (_ctx.activate())),\n    onBlur: _cache[15] || (_cache[15] = $event => (_ctx.searchable ? false : _ctx.deactivate())),\n    onKeydown: [\n      _cache[16] || (_cache[16] = withKeys(withModifiers($event => (_ctx.pointerForward()), [\"self\",\"prevent\"]), [\"down\"])),\n      _cache[17] || (_cache[17] = withKeys(withModifiers($event => (_ctx.pointerBackward()), [\"self\",\"prevent\"]), [\"up\"]))\n    ],\n    onKeypress: _cache[18] || (_cache[18] = withKeys(withModifiers($event => (_ctx.addPointerElement($event)), [\"stop\",\"self\"]), [\"enter\",\"tab\"])),\n    onKeyup: _cache[19] || (_cache[19] = withKeys($event => (_ctx.deactivate()), [\"esc\"])),\n    role: \"combobox\",\n    \"aria-owns\": 'listbox-'+_ctx.id\n  }, [\n    renderSlot(_ctx.$slots, \"caret\", { toggle: _ctx.toggle }, () => [\n      createVNode(\"div\", {\n        onMousedown: _cache[1] || (_cache[1] = withModifiers($event => (_ctx.toggle()), [\"prevent\",\"stop\"])),\n        class: \"multiselect__select\"\n      }, null, 32 /* HYDRATE_EVENTS */)\n    ]),\n    renderSlot(_ctx.$slots, \"clear\", { search: _ctx.search }),\n    createVNode(\"div\", _hoisted_1, [\n      renderSlot(_ctx.$slots, \"selection\", {\n        search: _ctx.search,\n        remove: _ctx.removeElement,\n        values: $options.visibleValues,\n        isOpen: _ctx.isOpen\n      }, () => [\n        withDirectives(createVNode(\"div\", _hoisted_2, [\n          (openBlock(true), createBlock(Fragment, null, renderList($options.visibleValues, (option, index) => {\n            return renderSlot(_ctx.$slots, \"tag\", {\n              option: option,\n              search: _ctx.search,\n              remove: _ctx.removeElement\n            }, () => [\n              (openBlock(), createBlock(\"span\", {\n                class: \"multiselect__tag\",\n                key: index\n              }, [\n                createVNode(\"span\", {\n                  textContent: toDisplayString(_ctx.getOptionLabel(option))\n                }, null, 8 /* PROPS */, [\"textContent\"]),\n                createVNode(\"i\", {\n                  tabindex: \"1\",\n                  onKeypress: withKeys(withModifiers($event => (_ctx.removeElement(option)), [\"prevent\"]), [\"enter\"]),\n                  onMousedown: withModifiers($event => (_ctx.removeElement(option)), [\"prevent\"]),\n                  class: \"multiselect__tag-icon\"\n                }, null, 40 /* PROPS, HYDRATE_EVENTS */, [\"onKeypress\", \"onMousedown\"])\n              ]))\n            ])\n          }), 256 /* UNKEYED_FRAGMENT */))\n        ], 512 /* NEED_PATCH */), [\n          [vShow, $options.visibleValues.length > 0]\n        ]),\n        (_ctx.internalValue && _ctx.internalValue.length > $props.limit)\n          ? renderSlot(_ctx.$slots, \"limit\", { key: 0 }, () => [\n              createVNode(\"strong\", {\n                class: \"multiselect__strong\",\n                textContent: toDisplayString($props.limitText(_ctx.internalValue.length - $props.limit))\n              }, null, 8 /* PROPS */, [\"textContent\"])\n            ])\n          : createCommentVNode(\"v-if\", true)\n      ]),\n      createVNode(Transition, { name: \"multiselect__loading\" }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"loading\", {}, () => [\n            withDirectives(createVNode(\"div\", _hoisted_3, null, 512 /* NEED_PATCH */), [\n              [vShow, $props.loading]\n            ])\n          ])\n        ]),\n        _: 3 /* FORWARDED */\n      }),\n      (_ctx.searchable)\n        ? (openBlock(), createBlock(\"input\", {\n            key: 0,\n            ref: \"search\",\n            name: $props.name,\n            id: _ctx.id,\n            type: \"text\",\n            autocomplete: \"off\",\n            spellcheck: $props.spellcheck,\n            placeholder: _ctx.placeholder,\n            required: $props.required,\n            style: $options.inputStyle,\n            value: _ctx.search,\n            disabled: $props.disabled,\n            tabindex: $props.tabindex,\n            onInput: _cache[2] || (_cache[2] = $event => (_ctx.updateSearch($event.target.value))),\n            onFocus: _cache[3] || (_cache[3] = withModifiers($event => (_ctx.activate()), [\"prevent\"])),\n            onBlur: _cache[4] || (_cache[4] = withModifiers($event => (_ctx.deactivate()), [\"prevent\"])),\n            onKeyup: _cache[5] || (_cache[5] = withKeys($event => (_ctx.deactivate()), [\"esc\"])),\n            onKeydown: [\n              _cache[6] || (_cache[6] = withKeys(withModifiers($event => (_ctx.pointerForward()), [\"prevent\"]), [\"down\"])),\n              _cache[7] || (_cache[7] = withKeys(withModifiers($event => (_ctx.pointerBackward()), [\"prevent\"]), [\"up\"])),\n              _cache[9] || (_cache[9] = withKeys(withModifiers($event => (_ctx.removeLastElement()), [\"stop\"]), [\"delete\"]))\n            ],\n            onKeypress: _cache[8] || (_cache[8] = withKeys(withModifiers($event => (_ctx.addPointerElement($event)), [\"prevent\",\"stop\",\"self\"]), [\"enter\"])),\n            class: \"multiselect__input\",\n            \"aria-controls\": 'listbox-'+_ctx.id\n          }, null, 44 /* STYLE, PROPS, HYDRATE_EVENTS */, [\"name\", \"id\", \"spellcheck\", \"placeholder\", \"required\", \"value\", \"disabled\", \"tabindex\", \"aria-controls\"]))\n        : createCommentVNode(\"v-if\", true),\n      ($options.isSingleLabelVisible)\n        ? (openBlock(), createBlock(\"span\", {\n            key: 1,\n            class: \"multiselect__single\",\n            onMousedown: _cache[10] || (_cache[10] = withModifiers((...args) => (_ctx.toggle && _ctx.toggle(...args)), [\"prevent\"]))\n          }, [\n            renderSlot(_ctx.$slots, \"singleLabel\", { option: $options.singleValue }, () => [\n              createTextVNode(toDisplayString(_ctx.currentOptionLabel), 1 /* TEXT */)\n            ])\n          ], 32 /* HYDRATE_EVENTS */))\n        : createCommentVNode(\"v-if\", true),\n      ($options.isPlaceholderVisible)\n        ? (openBlock(), createBlock(\"span\", {\n            key: 2,\n            class: \"multiselect__placeholder\",\n            onMousedown: _cache[11] || (_cache[11] = withModifiers((...args) => (_ctx.toggle && _ctx.toggle(...args)), [\"prevent\"]))\n          }, [\n            renderSlot(_ctx.$slots, \"placeholder\", {}, () => [\n              createTextVNode(toDisplayString(_ctx.placeholder), 1 /* TEXT */)\n            ])\n          ], 32 /* HYDRATE_EVENTS */))\n        : createCommentVNode(\"v-if\", true)\n    ], 512 /* NEED_PATCH */),\n    createVNode(Transition, { name: \"multiselect\" }, {\n      default: withCtx(() => [\n        withDirectives(createVNode(\"div\", {\n          class: \"multiselect__content-wrapper\",\n          onFocus: _cache[12] || (_cache[12] = (...args) => (_ctx.activate && _ctx.activate(...args))),\n          tabindex: \"-1\",\n          onMousedown: _cache[13] || (_cache[13] = withModifiers(() => {}, [\"prevent\"])),\n          style: { maxHeight: _ctx.optimizedHeight + 'px' },\n          ref: \"list\"\n        }, [\n          createVNode(\"ul\", {\n            class: \"multiselect__content\",\n            style: $options.contentStyle,\n            role: \"listbox\",\n            id: 'listbox-'+_ctx.id,\n            \"aria-multiselectable\": _ctx.multiple\n          }, [\n            renderSlot(_ctx.$slots, \"beforeList\"),\n            (_ctx.multiple && _ctx.max === _ctx.internalValue.length)\n              ? (openBlock(), createBlock(\"li\", _hoisted_4, [\n                  createVNode(\"span\", _hoisted_5, [\n                    renderSlot(_ctx.$slots, \"maxElements\", {}, () => [\n                      createTextVNode(\"Maximum of \" + toDisplayString(_ctx.max) + \" options selected. First remove a selected option to select another.\", 1 /* TEXT */)\n                    ])\n                  ])\n                ]))\n              : createCommentVNode(\"v-if\", true),\n            (!_ctx.max || _ctx.internalValue.length < _ctx.max)\n              ? (openBlock(true), createBlock(Fragment, { key: 1 }, renderList(_ctx.filteredOptions, (option, index) => {\n                  return (openBlock(), createBlock(\"li\", {\n                    class: \"multiselect__element\",\n                    key: index,\n                    \"aria-selected\": _ctx.isSelected(option),\n                    id: _ctx.id + '-' + index,\n                    role: !(option && (option.$isLabel || option.$isDisabled)) ? 'option' : null\n                  }, [\n                    (!(option && (option.$isLabel || option.$isDisabled)))\n                      ? (openBlock(), createBlock(\"span\", {\n                          key: 0,\n                          class: [_ctx.optionHighlight(index, option), \"multiselect__option\"],\n                          onClick: withModifiers($event => (_ctx.select(option)), [\"stop\"]),\n                          onMouseenter: withModifiers($event => (_ctx.pointerSet(index)), [\"self\"]),\n                          \"data-select\": option && option.isTag ? _ctx.tagPlaceholder : $options.selectLabelText,\n                          \"data-selected\": $options.selectedLabelText,\n                          \"data-deselect\": $options.deselectLabelText\n                        }, [\n                          renderSlot(_ctx.$slots, \"option\", {\n                            option: option,\n                            search: _ctx.search,\n                            index: index\n                          }, () => [\n                            createVNode(\"span\", null, toDisplayString(_ctx.getOptionLabel(option)), 1 /* TEXT */)\n                          ])\n                        ], 42 /* CLASS, PROPS, HYDRATE_EVENTS */, [\"onClick\", \"onMouseenter\", \"data-select\", \"data-selected\", \"data-deselect\"]))\n                      : createCommentVNode(\"v-if\", true),\n                    (option && (option.$isLabel || option.$isDisabled))\n                      ? (openBlock(), createBlock(\"span\", {\n                          key: 1,\n                          \"data-select\": _ctx.groupSelect && $options.selectGroupLabelText,\n                          \"data-deselect\": _ctx.groupSelect && $options.deselectGroupLabelText,\n                          class: [_ctx.groupHighlight(index, option), \"multiselect__option\"],\n                          onMouseenter: withModifiers($event => (_ctx.groupSelect && _ctx.pointerSet(index)), [\"self\"]),\n                          onMousedown: withModifiers($event => (_ctx.selectGroup(option)), [\"prevent\"])\n                        }, [\n                          renderSlot(_ctx.$slots, \"option\", {\n                            option: option,\n                            search: _ctx.search,\n                            index: index\n                          }, () => [\n                            createVNode(\"span\", null, toDisplayString(_ctx.getOptionLabel(option)), 1 /* TEXT */)\n                          ])\n                        ], 42 /* CLASS, PROPS, HYDRATE_EVENTS */, [\"data-select\", \"data-deselect\", \"onMouseenter\", \"onMousedown\"]))\n                      : createCommentVNode(\"v-if\", true)\n                  ], 8 /* PROPS */, [\"aria-selected\", \"id\", \"role\"]))\n                }), 128 /* KEYED_FRAGMENT */))\n              : createCommentVNode(\"v-if\", true),\n            withDirectives(createVNode(\"li\", null, [\n              createVNode(\"span\", _hoisted_6, [\n                renderSlot(_ctx.$slots, \"noResult\", { search: _ctx.search }, () => [\n                  _hoisted_7\n                ])\n              ])\n            ], 512 /* NEED_PATCH */), [\n              [vShow, $props.showNoResults && (_ctx.filteredOptions.length === 0 && _ctx.search && !$props.loading)]\n            ]),\n            withDirectives(createVNode(\"li\", null, [\n              createVNode(\"span\", _hoisted_8, [\n                renderSlot(_ctx.$slots, \"noOptions\", {}, () => [\n                  _hoisted_9\n                ])\n              ])\n            ], 512 /* NEED_PATCH */), [\n              [vShow, $props.showNoOptions && ((_ctx.options.length === 0 || ($options.hasOptionGroup === true && _ctx.filteredOptions.length === 0)) && !_ctx.search && !$props.loading)]\n            ]),\n            renderSlot(_ctx.$slots, \"afterList\")\n          ], 12 /* STYLE, PROPS */, [\"id\", \"aria-multiselectable\"])\n        ], 36 /* STYLE, HYDRATE_EVENTS */), [\n          [vShow, _ctx.isOpen]\n        ])\n      ]),\n      _: 3 /* FORWARDED */\n    })\n  ], 42 /* CLASS, PROPS, HYDRATE_EVENTS */, [\"tabindex\", \"aria-owns\"]))\n}\n\nscript.render = render;\n\nexport default script;\nexport { script as Multiselect, multiselectMixin, pointerMixin };\n","<template>\n  <div class=\"card\">\n    <div class=\"card-content\" style=\"width: 600px\">\n        <div>\n            <h2>{{ translate('GroupPermissions_CreateNewGroup') }}</h2>\n\n            <div>\n                <input\n                  type=\"text\"\n                  v-model=\"groupName\"\n                />\n                <input\n                  type=\"button\"\n                  :value=\"translate('GroupPermissions_CreateNewGroupButton')\"\n                  style=\"padding: 8px;\"\n                  @click=\"createGroup(groupName)\"\n                />\n            </div>\n\n            <div id=\"ajaxErrorCreateGroup\" ref=\"errorContainer\"></div>\n            <ActivityIndicator\n              :loading=\"isCreatingGroup\"\n              style=\"padding-top: 10px;\"\n            />\n        </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n} from 'CoreHome';\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n  },\n  data() {\n    return {\n      groupName: '',\n      isCreatingGroup: false,\n    };\n  },\n  emits: ['group-created'],\n  methods: {\n    createGroup(groupName: string) {\n      this.isCreatingGroup = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.createGroup',\n      }, {\n        groupName,\n      },\n      {\n        errorElement: '#ajaxErrorCreateGroup',\n      }).then((response) => {\n        this.$emit('group-created', response);\n      }).finally(() => {\n        this.isCreatingGroup = false;\n      });\n    },\n  },\n});\n</script>\n","\nimport { defineComponent } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n} from 'CoreHome';\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n  },\n  data() {\n    return {\n      groupName: '',\n      isCreatingGroup: false,\n    };\n  },\n  emits: ['group-created'],\n  methods: {\n    createGroup(groupName: string) {\n      this.isCreatingGroup = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.createGroup',\n      }, {\n        groupName,\n      },\n      {\n        errorElement: '#ajaxErrorCreateGroup',\n      }).then((response) => {\n        this.$emit('group-created', response);\n      }).finally(() => {\n        this.isCreatingGroup = false;\n      });\n    },\n  },\n});\n","import { render } from \"./CreateGroup.vue?vue&type=template&id=015eb2af\"\nimport script from \"./CreateGroup.vue?vue&type=script&lang=ts\"\nexport * from \"./CreateGroup.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n\n    <ManageGroupMembers\n        :group=\"group\"\n    ></ManageGroupMembers>\n\n    <!-- Rename group -->\n    <div style=\"margin-top: 70px;\">\n        <h3>{{ translate('GroupPermissions_RenameGroup') }}</h3>\n        <div>\n            <input\n                type=\"text\"\n                v-model=\"this.newGroupName\"\n            />\n            <input\n                type=\"button\"\n                :value=\"translate('GroupPermissions_RenameGroupButton')\"\n                style=\"padding: 8px;\"\n                @click=\"confirmRenameGroup()\"\n            />\n        </div>\n    </div>\n\n    <div class=\"ui-confirm\" id=\"confirmRenameGroup\">\n        <h2>{{ confirmRenameGroupText }}</h2>\n        <input role=\"yes\" type=\"button\" :value=\"translate('General_Yes')\"/>\n        <input role=\"no\" type=\"button\" :value=\"translate('General_No')\"/>\n    </div>\n\n    <div id=\"ajaxErrorRenameGroup\" ref=\"errorContainer\"></div>\n    <ActivityIndicator\n      :loading=\"isRenaming\"\n      style=\"padding-top: 10px;\"\n    />\n\n    <!-- Delete group -->\n    <div style=\"margin-top: 70px;\">\n        <h3>{{ translate('GroupPermissions_DeleteGroup') }}</h3>\n        <input\n            type=\"button\"\n            :value=\"translate('GroupPermissions_DeleteGroupButton')\"\n            style=\"padding: 8px;\"\n            @click=\"confirmDeleteGroup()\"\n        />\n    </div>\n\n    <div class=\"ui-confirm\" id=\"confirmDeleteGroup\">\n        <h2>{{ confirmDeleteGroupText }}</h2>\n        <input role=\"yes\" type=\"button\" :value=\"translate('General_Yes')\"/>\n        <input role=\"no\" type=\"button\" :value=\"translate('General_No')\"/>\n    </div>\n\n    <div id=\"ajaxErrorDeleteGroup\" ref=\"errorContainer\"></div>\n    <ActivityIndicator\n      :loading=\"isDeleting\"\n      style=\"padding-top: 10px;\"\n    />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n  Matomo,\n  MatomoUrl,\n  translate,\n} from 'CoreHome';\nimport ManageGroupMembers from './ManageGroupMembers.vue';\nimport { Group } from './TabManageGroups.vue';\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n    ManageGroupMembers,\n  },\n  data() {\n    return {\n      newGroupName: '',\n      confirmRenameGroupText: '',\n      confirmDeleteGroupText: '',\n      isRenaming: false,\n      isDeleting: false,\n    };\n  },\n  props: {\n    group: {\n      type: Object as PropType<Group>,\n      required: true,\n    },\n  },\n  emits: ['group-renamed', 'group-deleted'],\n  mounted() {\n    this.onGroupUpdated();\n  },\n  methods: {\n    onGroupUpdated() {\n      this.newGroupName = this.group.name;\n      MatomoUrl.updateHash({\n        ...MatomoUrl.hashParsed.value,\n        idGroup: this.group.idGroup,\n      });\n    },\n    confirmRenameGroup() {\n      this.confirmRenameGroupText = translate('GroupPermissions_RenameGroupConfirm', this.group.name, this.newGroupName);\n      Matomo.helper.modalConfirm('#confirmRenameGroup', {\n        yes: () => this.renameGroup(),\n      });\n    },\n    renameGroup() {\n      this.isRenaming = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.renameGroup',\n      }, {\n        idGroup: this.group.idGroup,\n        newName: this.newGroupName,\n      },\n      {\n        errorElement: '#ajaxErrorRenameGroup',\n      }).then(() => {\n        this.$emit('group-renamed', {\n          idGroup: this.group.idGroup,\n          name: this.newGroupName,\n        });\n      }).finally(() => {\n        this.isRenaming = false;\n      });\n    },\n    confirmDeleteGroup() {\n      this.confirmDeleteGroupText = translate('GroupPermissions_DeleteGroupConfirm', this.group.name);\n      Matomo.helper.modalConfirm('#confirmDeleteGroup', {\n        yes: () => this.deleteGroup(),\n      });\n    },\n    deleteGroup() {\n      this.isDeleting = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.deleteGroup',\n      }, {\n        idGroup: this.group.idGroup,\n      },\n      {\n        errorElement: '#ajaxErrorDeleteGroup',\n      }).then(() => {\n        this.$emit('group-deleted', this.group);\n      }).finally(() => {\n        this.isDeleting = false;\n      });\n    },\n  },\n  watch: {\n    group() {\n      this.onGroupUpdated();\n    },\n  },\n});\n</script>\n","<template>\n  <h3>{{ translate('GroupPermissions_ManageGroupMembers') }}</h3>\n\n  <div class=\"entityContainer\" style=\"width:600px;margin-top:16px;\">\n    <table class=\"entityTable dataTable\"\n       style=\"display:inline-table;width:550px;\">\n      <thead>\n      <tr>\n        <th>{{ translate('General_Username') }}</th>\n        <th>{{ translate('GroupPermissions_RemoveFromGroup') }}</th>\n      </tr>\n      </thead>\n\n      <tbody>\n      <tr v-for=\"login in members\" :key=\"login\">\n        <td class='login'>{{ login }}</td>\n        <td class=\"text-center\">\n          <button class=\"groupPermissionsRemoveMember btn btn-flat\"\n            @click=\"confirmRemoveMember(login)\"\n            :title=\"translate('GroupPermissions_RemoveFromGroup')\"\n          >\n            <span class=\"icon-delete\"></span>\n          </button>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div id=\"ajaxErrorLoadMembers\" ref=\"errorContainer\"></div>\n  <ActivityIndicator\n    :loading=\"isLoadingMembers\"\n    style=\"padding-top: 10px;\"\n  />\n\n  <div style=\"margin-top: 70px;\">\n    <h3>{{ translate('GroupPermissions_AddUserToGroup') }}</h3>\n    <div class=\"groupPermissionsGroupAddMemberWrapper\">\n      <multiselect\n        :options=\"logins\"\n        :placeholder=\"translate('GroupPermissions_SelectNewUser')\"\n        v-model=\"selectedLoginToAdd\"\n      />\n      <input\n        type=\"button\"\n        @click=\"addMember()\"\n        :value=\"translate('GroupPermissions_AddUserToGroupButton')\"\n        style=\"padding: 8px; margin-top: 8px;\"/>\n    </div>\n  </div>\n\n  <div id=\"ajaxErrorLoadLogins\" ref=\"errorContainer\"></div>\n  <div id=\"ajaxErrorAddMember\" ref=\"errorContainer\"></div>\n  <ActivityIndicator\n    :loading=\"isLoadingLogins || isAddingMember\"\n    style=\"padding-top: 10px;\"\n  />\n\n  <div\n    class=\"ui-confirm\"\n    id=\"confirmRemoveMember\"\n    ref=\"confirmRemoveMember\"\n  >\n    <h2>{{ confirmRemoveMemberText }}</h2>\n    <input\n      role=\"yes\"\n      type=\"button\"\n      :value=\"translate('General_Yes')\"\n    />\n    <input\n      role=\"no\"\n      type=\"button\"\n      :value=\"translate('General_No')\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n  Matomo,\n  translate,\n} from 'CoreHome';\nimport Multiselect from 'vue-multiselect';\nimport { Group } from './TabManageGroups.vue';\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n    Multiselect,\n  },\n  data() {\n    return {\n      members: [] as string[],\n      logins: [] as string[],\n      selectedLoginToAdd: '',\n      confirmRemoveMemberText: '',\n      isLoadingMembers: false,\n      isLoadingLogins: false,\n      isAddingMember: false,\n      isRemovingMember: false,\n    };\n  },\n  props: {\n    group: {\n      type: Object as PropType<Group>,\n      required: true,\n    },\n  },\n  mounted() {\n    this.loadGroupMembers();\n    this.loadLogins();\n  },\n  methods: {\n    loadGroupMembers() {\n      this.isLoadingMembers = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.getMembersOfGroup',\n      }, {\n        idGroup: this.group.idGroup,\n      },\n      {\n        errorElement: '#ajaxErrorLoadMembers',\n      }).then((response) => {\n        this.members = response.reduce((acc: string[], member: { login: string }) => {\n          acc.push(member.login);\n          return acc;\n        }, []);\n        this.members.sort();\n      }).finally(() => {\n        this.isLoadingMembers = false;\n      });\n    },\n    loadLogins() {\n      this.isLoadingLogins = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'UsersManager.getUsersLogin',\n      }, {\n        filter_limit: -1,\n      },\n      {\n        errorElement: '#ajaxErrorLoadLogins',\n      }).then((response) => {\n        this.logins = response;\n        this.logins.sort();\n      }).finally(() => {\n        this.isLoadingLogins = false;\n      });\n    },\n    addMember() {\n      this.isAddingMember = true;\n\n      const loginToAdd = this.selectedLoginToAdd;\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.addUserToGroup',\n      }, {\n        idGroup: this.group.idGroup,\n        login: loginToAdd,\n      },\n      {\n        errorElement: '#ajaxErrorAddMember',\n      }).then(() => {\n        this.members.push(loginToAdd);\n        this.members.sort();\n      }).finally(() => {\n        this.isAddingMember = false;\n      });\n    },\n    confirmRemoveMember(member: string) {\n      this.confirmRemoveMemberText = translate('GroupPermissions_RemoveFromGroupConfirm', member, this.group.name);\n      Matomo.helper.modalConfirm('#confirmRemoveMember', {\n        yes: () => this.removeMember(member),\n      });\n    },\n    removeMember(member: string) {\n      this.isRemovingMember = true;\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.removeUserFromGroup',\n      }, {\n        idGroup: this.group.idGroup,\n        login: member,\n      },\n      {\n        errorElement: '#ajaxErrorManageGroupMembers',\n      }).then(() => {\n        this.members = this.members.filter((login) => login !== member);\n      }).finally(() => {\n        this.isRemovingMember = false;\n      });\n    },\n  },\n  watch: {\n    group() {\n      this.loadGroupMembers();\n    },\n  },\n});\n</script>\n","\nimport { defineComponent, PropType } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n  Matomo,\n  translate,\n} from 'CoreHome';\nimport Multiselect from 'vue-multiselect';\nimport { Group } from './TabManageGroups.vue';\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n    Multiselect,\n  },\n  data() {\n    return {\n      members: [] as string[],\n      logins: [] as string[],\n      selectedLoginToAdd: '',\n      confirmRemoveMemberText: '',\n      isLoadingMembers: false,\n      isLoadingLogins: false,\n      isAddingMember: false,\n      isRemovingMember: false,\n    };\n  },\n  props: {\n    group: {\n      type: Object as PropType<Group>,\n      required: true,\n    },\n  },\n  mounted() {\n    this.loadGroupMembers();\n    this.loadLogins();\n  },\n  methods: {\n    loadGroupMembers() {\n      this.isLoadingMembers = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.getMembersOfGroup',\n      }, {\n        idGroup: this.group.idGroup,\n      },\n      {\n        errorElement: '#ajaxErrorLoadMembers',\n      }).then((response) => {\n        this.members = response.reduce((acc: string[], member: { login: string }) => {\n          acc.push(member.login);\n          return acc;\n        }, []);\n        this.members.sort();\n      }).finally(() => {\n        this.isLoadingMembers = false;\n      });\n    },\n    loadLogins() {\n      this.isLoadingLogins = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'UsersManager.getUsersLogin',\n      }, {\n        filter_limit: -1,\n      },\n      {\n        errorElement: '#ajaxErrorLoadLogins',\n      }).then((response) => {\n        this.logins = response;\n        this.logins.sort();\n      }).finally(() => {\n        this.isLoadingLogins = false;\n      });\n    },\n    addMember() {\n      this.isAddingMember = true;\n\n      const loginToAdd = this.selectedLoginToAdd;\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.addUserToGroup',\n      }, {\n        idGroup: this.group.idGroup,\n        login: loginToAdd,\n      },\n      {\n        errorElement: '#ajaxErrorAddMember',\n      }).then(() => {\n        this.members.push(loginToAdd);\n        this.members.sort();\n      }).finally(() => {\n        this.isAddingMember = false;\n      });\n    },\n    confirmRemoveMember(member: string) {\n      this.confirmRemoveMemberText = translate('GroupPermissions_RemoveFromGroupConfirm', member, this.group.name);\n      Matomo.helper.modalConfirm('#confirmRemoveMember', {\n        yes: () => this.removeMember(member),\n      });\n    },\n    removeMember(member: string) {\n      this.isRemovingMember = true;\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.removeUserFromGroup',\n      }, {\n        idGroup: this.group.idGroup,\n        login: member,\n      },\n      {\n        errorElement: '#ajaxErrorManageGroupMembers',\n      }).then(() => {\n        this.members = this.members.filter((login) => login !== member);\n      }).finally(() => {\n        this.isRemovingMember = false;\n      });\n    },\n  },\n  watch: {\n    group() {\n      this.loadGroupMembers();\n    },\n  },\n});\n","import { render } from \"./ManageGroupMembers.vue?vue&type=template&id=58ae5440\"\nimport script from \"./ManageGroupMembers.vue?vue&type=script&lang=ts\"\nexport * from \"./ManageGroupMembers.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, PropType } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n  Matomo,\n  MatomoUrl,\n  translate,\n} from 'CoreHome';\nimport ManageGroupMembers from './ManageGroupMembers.vue';\nimport { Group } from './TabManageGroups.vue';\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n    ManageGroupMembers,\n  },\n  data() {\n    return {\n      newGroupName: '',\n      confirmRenameGroupText: '',\n      confirmDeleteGroupText: '',\n      isRenaming: false,\n      isDeleting: false,\n    };\n  },\n  props: {\n    group: {\n      type: Object as PropType<Group>,\n      required: true,\n    },\n  },\n  emits: ['group-renamed', 'group-deleted'],\n  mounted() {\n    this.onGroupUpdated();\n  },\n  methods: {\n    onGroupUpdated() {\n      this.newGroupName = this.group.name;\n      MatomoUrl.updateHash({\n        ...MatomoUrl.hashParsed.value,\n        idGroup: this.group.idGroup,\n      });\n    },\n    confirmRenameGroup() {\n      this.confirmRenameGroupText = translate('GroupPermissions_RenameGroupConfirm', this.group.name, this.newGroupName);\n      Matomo.helper.modalConfirm('#confirmRenameGroup', {\n        yes: () => this.renameGroup(),\n      });\n    },\n    renameGroup() {\n      this.isRenaming = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.renameGroup',\n      }, {\n        idGroup: this.group.idGroup,\n        newName: this.newGroupName,\n      },\n      {\n        errorElement: '#ajaxErrorRenameGroup',\n      }).then(() => {\n        this.$emit('group-renamed', {\n          idGroup: this.group.idGroup,\n          name: this.newGroupName,\n        });\n      }).finally(() => {\n        this.isRenaming = false;\n      });\n    },\n    confirmDeleteGroup() {\n      this.confirmDeleteGroupText = translate('GroupPermissions_DeleteGroupConfirm', this.group.name);\n      Matomo.helper.modalConfirm('#confirmDeleteGroup', {\n        yes: () => this.deleteGroup(),\n      });\n    },\n    deleteGroup() {\n      this.isDeleting = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.deleteGroup',\n      }, {\n        idGroup: this.group.idGroup,\n      },\n      {\n        errorElement: '#ajaxErrorDeleteGroup',\n      }).then(() => {\n        this.$emit('group-deleted', this.group);\n      }).finally(() => {\n        this.isDeleting = false;\n      });\n    },\n  },\n  watch: {\n    group() {\n      this.onGroupUpdated();\n    },\n  },\n});\n","import { render } from \"./ManageGroup.vue?vue&type=template&id=40328eec\"\nimport script from \"./ManageGroup.vue?vue&type=script&lang=ts\"\nexport * from \"./ManageGroup.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from 'vue';\nimport {\n  ActivityIndicator,\n  AjaxHelper,\n  MatomoUrl,\n} from 'CoreHome';\nimport Multiselect from 'vue-multiselect';\nimport CreateGroup from './CreateGroup.vue';\nimport ManageGroup from './ManageGroup.vue';\n\nexport interface Group {\n  idGroup: number;\n  name: string;\n}\n\nexport default defineComponent({\n  components: {\n    ActivityIndicator,\n    Multiselect,\n    CreateGroup,\n    ManageGroup,\n  },\n  data() {\n    return {\n      groups: [] as Group[],\n      selectedGroup: undefined as Group | undefined,\n      isLoadingGroups: false,\n      isLoadingDefaultGroup: false,\n    };\n  },\n  mounted() {\n    this.loadGroupList();\n    this.loadDefaultGroup();\n  },\n  methods: {\n    loadGroupList() {\n      this.isLoadingGroups = true;\n\n      AjaxHelper.post({\n        module: 'API',\n        format: 'json',\n        method: 'GroupPermissions.getAllGroups',\n      }, {\n      },\n      {\n        errorElement: '#ajaxErrorManageGroups',\n      }).then((response) => {\n        this.groups = response;\n      }).finally(() => {\n        this.isLoadingGroups = false;\n      });\n    },\n    loadDefaultGroup() {\n      this.isLoadingDefaultGroup = true;\n\n      const idGroup = MatomoUrl.getSearchParam('idGroup');\n      if (idGroup) {\n        AjaxHelper.post({\n          module: 'API',\n          format: 'json',\n          method: 'GroupPermissions.getGroupWithId',\n        }, {\n          idGroup,\n        },\n        {\n          errorElement: '#ajaxErrorManageGroups',\n        }).then((response) => {\n          this.selectedGroup = {\n            idGroup: response.idGroup,\n            name: response.name,\n          };\n        }).finally(() => {\n          this.isLoadingDefaultGroup = false;\n        });\n      }\n    },\n    onGroupCreated(group: Group) {\n      this.groups.push(group);\n      this.sortGroups();\n      this.selectedGroup = group;\n    },\n    onGroupRenamed(group: Group) {\n      const groupIndex = this.groups.findIndex(\n        (g: Group) => g.idGroup === group.idGroup,\n      );\n      this.groups[groupIndex].name = group.name;\n      this.sortGroups();\n      this.selectedGroup = group;\n    },\n    onGroupDeleted(group: Group) {\n      this.groups = this.groups.filter((g: Group) => g.idGroup !== group.idGroup);\n      this.selectedGroup = this.groups.length > 0 ? this.groups[0] : undefined;\n    },\n    sortGroups() {\n      this.groups.sort((a: Group, b: Group) => a.name.localeCompare(b.name));\n    },\n  },\n});\n","import { render } from \"./TabManageGroups.vue?vue&type=template&id=dbd59572\"\nimport script from \"./TabManageGroups.vue?vue&type=script&lang=ts\"\nexport * from \"./TabManageGroups.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}